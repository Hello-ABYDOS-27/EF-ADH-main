### 学校脱出スクリプト

#### 言語バージョン

このプロジェクトは複数の言語バージョンで提供されています。翻訳されたREADMEファイルは`docx`ディレクトリにあります：

- [中文-简体](README_zh-CN.md)
- [中文-繁体](README_zh-TW.md)
- [English](../README.md)
- [日本語](README_ja.md) (現在)
- [中文-文言](README_zh-Classic.md)

#### プロジェクト紹介

**学校脱出スクリプト**はPygameで開発された2Dアドベンチャーパズルゲームです。学校主催のボランティア活動に参加していた中学生が、偶然廃墟病院に迷い込み、プレイヤーは場所を探索し、謎を解いて最終的に脱出するストーリーです。

#### ゲームの特徴

- 🎮 **操作が簡単**：WASDでキャラクターを移動、Eキーでインタラクション
- 🎨 **美しい2Dピクセルスタイル**：精心設計されたゲームシーンとキャラクターアニメーション
- 🎵 **没入型サウンド**：各シーンに独自のBGMと効果音が設定
- 📖 **豊富なストーリー**：複数のストーリーラインと隠しコンテンツを含む
- 🏠 **多様なシーン**：廃墟病院からカフェまで、各シーンに独自の謎と挑戦が待つ
- ⚙️ **設定可能なゲーム設定**：解像度、フレームレート、ショートカットキーの調整が可能

#### 技術スタック

- **開発言語**：Python 3.11
- **ゲームエンジン**：Pygame
- **バージョン管理**：Git
- **コードスタイル**：PEP 8

#### ダウンロードと実行

##### ゲームのダウンロード

1. **Releasesページからダウンロード**：
   - GitHubリポジトリにアクセス：[https://github.com/Hello-ABYDOS-27/EF-ADH-main](https://github.com/Hello-ABYDOS-27/EF-ADH-main)
   - 右側の赤い枠でマークされた"Releases"セクションを見つける
   - "Create a new release"をクリック（既にリリースされている場合は最新バージョンが表示）
   - 最新バージョンのゲームzipファイルをダウンロード
   - ダウンロード後、zipファイルをゲームをインストールしたい場所に解凍

##### ゲームの実行

1. **ゲームディレクトリを開く**：
   - 解凍後、解凍されたフォルダ`EF-ADH-main`に入る

2. **ゲームを実行する**：
   - `game.exe`ファイルを見つけてダブルクリック
   - ゲームが自動的に起動

##### 注意事項

- ゲームはWindowsシステムのみをサポート
- システムにDirectXまたはOpenGLグラフィックスライブラリがインストールされていることを確認
- 初回実行時はリソースの読み込みに時間がかかる場合がある
- 最適なゲーム体験のため、他のシステムリソースを大量に消費するプログラムは閉じておくことを推奨

#### ゲーム操作

| キー | 機能 |
|------|------|
| W | 上に移動 |
| A | 左に移動 |
| S | 下に移動 |
| D | 右に移動 |
| E | ドアを開く/インタラクション |
| スペース | ゲームを一時停止 |
| ESC | メニューを閉じる/戻る |

#### ゲームシーン

##### 1. 廃墟病院
- ゲームの初期シーン
- 病院内部を探索し、脱出の手がかりを見つける
- ドアの謎を解いて新しい章を開く

##### 2. カフェ
- 廃墟病院の門を通って到着するシーン
- NPCと対話して、より多くのストーリー情報を入手
- 新しい挑戦と謎を解き明かす

##### 3. 結婚式場（更新予定）
- 今後の更新でオープン予定の新シーン
- より多くのエキサイティングなストーリーと謎が待っている

#### プロジェクト構造

```
EF-ADH-main/
├── main.py                 # ゲームメインプログラム
├── requirements.txt         # プロジェクト依存関係
├── .gitignore              # Git無視設定
├── README.md               # プロジェクトドキュメント
├── audio/                  # オーディオリソース
│   ├── cafe_bgm.mp3        # カフェのBGM
│   ├── hospital_bgm.mp3    # 廃墟病院のBGM
│   ├── menu_bgm.mp3        # メインメニューのBGM
│   └── open_gate.WAV       # ドアを開く効果音
├── images/                 # 画像リソース
│   ├── github.webp         # GitHubアイコン
│   ├── player_idle_down.png # プレイヤーの下向きアイドルアニメーションフレーム
│   ├── player_idle_left.png # プレイヤーの左向きアイドルアニメーションフレーム
│   ├── player_idle_right.png # プレイヤーの右向きアイドルアニメーションフレーム
│   ├── player_idle_up.png  # プレイヤーの上向きアイドルアニメーションフレーム
│   ├── player_walk1.png    # プレイヤーの歩行予備アニメーションフレーム1
│   ├── player_walk3.png    # プレイヤーの歩行予備アニメーションフレーム3
│   ├── player_walk_down.png # プレイヤーの下向き歩行アニメーションフレーム
│   ├── player_walk_left.png # プレイヤーの左向き歩行アニメーションフレーム
│   ├── player_walk_right.png # プレイヤーの右向き歩行アニメーションフレーム
│   └── player_walk_up.png  # プレイヤーの上向き歩行アニメーションフレーム
├── test/                   # テスト関連ファイル
│   └── 游戏所有废案/        # ゲーム開発の廃案履歴
├── scenes/                 # シーンファイル
│   ├── hospital.py         # 廃墟病院シーン
│   └── cafe.py            # カフェシーン
├── ui/                     # UIコンポーネント
│   ├── dialog.py           # ダイアログシステム
│   └── ui_components.py    # UIコンポーネントライブラリ
└── utils/                  # ユーティリティ関数
    └── collision.py        # 衝突検出
```

#### ファイル機能説明

##### コアファイル

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| main.py | Pythonコード | ゲームのメインプログラムファイルで、ゲームの初期化、メインループ、イベント処理、シーン管理を含む |
| requirements.txt | テキストファイル | プロジェクトの依存関係リストで、ゲームの実行に必要なすべてのPythonライブラリを含む |
| README.md | Markdownドキュメント | プロジェクトの説明ドキュメントで、プロジェクトの概要、インストール手順、ゲーム操作などの情報を含む |
| .gitignore | テキストファイル | Gitの無視設定で、Gitで追跡する必要のないファイルとディレクトリを指定する |

##### オーディオリソース

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| audio/cafe_bgm.mp3 | オーディオ | カフェシーンのBGM |
| audio/hospital_bgm.mp3 | オーディオ | 廃墟病院シーンのBGM |
| audio/menu_bgm.mp3 | オーディオ | メインメニューとダンジョン選択画面のBGM |
| audio/open_gate.WAV | オーディオ | プレイヤーがドアを開くときに再生されるドアを開く効果音 |

##### 画像リソース

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| images/github.webp | 画像 | プロジェクト関連リンクに使用されるGitHubアイコン |
| images/player_idle_down.png | 画像 | プレイヤーの下向きアイドルアニメーションフレーム |
| images/player_idle_left.png | 画像 | プレイヤーの左向きアイドルアニメーションフレーム |
| images/player_idle_right.png | 画像 | プレイヤーの右向きアイドルアニメーションフレーム |
| images/player_idle_up.png | 画像 | プレイヤーの上向きアイドルアニメーションフレーム |
| images/player_walk1.png | 画像 | プレイヤーの歩行予備アニメーションフレーム1 |
| images/player_walk3.png | 画像 | プレイヤーの歩行予備アニメーションフレーム3 |
| images/player_walk_down.png | 画像 | プレイヤーの下向き歩行アニメーションフレーム |
| images/player_walk_left.png | 画像 | プレイヤーの左向き歩行アニメーションフレーム |
| images/player_walk_right.png | 画像 | プレイヤーの右向き歩行アニメーションフレーム |
| images/player_walk_up.png | 画像 | プレイヤーの上向き歩行アニメーションフレーム |

##### シーンファイル

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| scenes/hospital.py | Pythonコード | 廃墟病院シーンの実装で、シーンの描画、衝突検出、インタラクションロジックを含む |
| scenes/cafe.py | Pythonコード | カフェシーンの実装で、シーンの描画、衝突検出、インタラクションロジックを含む |

##### UIコンポーネントファイル

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| ui/dialog.py | Pythonコード | ダイアログシステムの実装で、ゲームのストーリーとキャラクターの会話を表示するために使用 |
| ui/ui_components.py | Pythonコード | 汎用UIコンポーネントライブラリで、ボタン、スライダー、メニューなどのUI要素の実装を含む |

##### ユーティリティ関数ファイル

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| utils/collision.py | Pythonコード | 衝突検出ツールで、プレイヤーとゲームオブジェクト間の衝突を検出するために使用 |

##### テストファイル

| ファイル名 | タイプ | 機能説明 |
|--------|------|----------|
| test/游戏所有废案/ | ディレクトリ | ゲーム開発中の廃案履歴で、廃棄された設計方案とコードを含む |
| test/游戏所有废案/介绍.md | Markdownドキュメント | 廃案履歴の紹介と説明 |
| test/游戏所有废案/scenes/ | ディレクトリ | 廃棄されたシーンコード |
| test/游戏所有废案/ui/ | ディレクトリ | 廃棄されたUIコンポーネントコード |
| test/游戏所有废案/utils/ | ディレクトリ | 廃棄されたユーティリティ関数コード |

#### 開発チーム

| 役割 | メンバー | 責任 |
|------|------|------|
| コア開発者 | 黄 | コード実装、機能開発 |
| UIデザイナー | 凉乞钞_official | UIスタイル、アニメーション編集 |
| メインプランナー | 矢车菊 | ゲームプレイ設計、ストーリー構築 |
| ゲームプレイコンサルタント | 坚林 | アドベンチャーパズルゲームプレイの提案 |
| アートディレクター | 沫沫 | キャラクター/シーンのアートスタイル定義 |
| ビジュアルデザイン | 筱 | UIインターフェース設計、カラーマッチング |
| リソース制作 | 京华 | 画像リソースの描画、素材処理 |

#### バージョン履歴

- **v1.0.0** (2025-11-24)：初期バージョンリリース、廃墟病院シーンを含む
- **v1.0.1** (2025-11-25)：キャラクターの移動バグを修正、アニメーション効果を最適化
- **v1.0.2** (2025-11-30)：カフェシーンを追加、ストーリーを拡張
- **v1.0.3** (2025-12-02)：ゲームパフォーマンスを最適化、衝突検出問題を修正
- **v1.0.4** (2025-12-03)：ゲーム設定機能を追加、解像度とフレームレートの調整をサポート
- **v1.0.5** (2025-12-05)：UI表示問題を修正、ゲーム体験を最適化
- **v1.1.0** (2025-12-06)：リソースファイル構造を最適化、オーディオと画像ファイルを専用ディレクトリに整理

#### ゲーム開発廃案履歴

##### 廃案一：モジュール化分割方案

**方案概要**：
ゲームを複数の独立した小さなモジュールに分割し、各モジュールはシーンレンダリング、キャラクターコントロール、UIインタラクションなどの特定の機能を担当。チームメンバーの独立開発とテストを容易にし、開発効率を向上させることを目的とする。

**予期される利点**：
- チーム協力を容易にし、コード衝突を削減
- モジュール化設計は保守と拡張が容易
- 独立テストによりコード品質が向上
- ニーズに応じてモジュールを柔軟に置き換え可能

**実際の課題**：
- モジュール間のインターフェース設計が複雑で、統合難度が高い
- クロスモジュール呼び出しによるパフォーマンスオーバーヘッド
- チームのコミュニケーションコストが増加
- モジュール依存関係が複雑で、構築時間が長い

**廃棄理由**：
分割されたモジュールは実際の運行中に表示問題が発生し、ゲームが正常に起動できなくなった。具体的には、モジュールのロード順序が混乱し、リソースの依存関係が誤っているため、最終的にゲームがクラッシュした。

**廃棄日**：2025年12月3日

##### 教訓

1. **モジュール化設計には注意が必要**：モジュール化分割を行う前に、モジュール間の依存関係とインターフェース設計を十分に考慮する必要がある
2. **テスト駆動開発**：各モジュールは開発過程で十分な単体テストと統合テストを受ける必要がある
3. **漸進的な分割**：一度に大規模な分割を避け、漸進的な分割戦略を採用して、分割効果を段階的に検証することを推奨
4. **ドキュメント先行**：モジュール化設計を行う前に、詳細な設計ドキュメントを作成し、モジュール間のインターフェースと依存関係を明確にする必要がある
5. **チーム協力メカニズム**：効果的なチーム協力メカニズムを確立し、モジュール開発者間の良好なコミュニケーションを確保する

#### 貢献ガイド

1. **リポジトリをフォーク**：GitHubでプロジェクトを自分のアカウントにフォーク
2. **ブランチを作成**：mainブランチから新しい機能ブランチを作成
   ```bash
   git checkout -b feature/your-feature-name
   ```
3. **機能を開発**：新機能を実装またはバグを修正
4. **コードをコミット**：明確なコミットメッセージを書く
   ```bash
   git commit -m "feat: 新機能の説明を追加"
   ```
5. **ブランチをプッシュ**：コードを自分のフォークリポジトリにプッシュ
   ```bash
   git push origin feature/your-feature-name
   ```
6. **Pull Requestを作成**：GitHubでPull Requestを提出し、変更内容を説明

#### 行動規範

- チームメンバーを尊重し、友好的にコミュニケーション
- PEP 8コードスタイルに従う
- 明確なコードコメントを書く
- 提出前にコードが正常に実行できることを確認
- ゲームと無関係なファイルを提出しない

#### ライセンス

本プロジェクトはカスタムライセンスを採用し、詳細はLICENSEファイルを参照。ライセンス内容には軽度使用と重度使用の異なる条項が含まれ、オープンソース共有とオリジナル作品の権利保護のバランスを図ることを目的とする。

#### 連絡先

- **GitHub Issues**：[問題を提出](https://github.com/Hello-ABYDOS-27/EF-ADH-main/issues)
- **開発チームメール**：[efadh-team@example.com](mailto:efadh-team@example.com)（例）

#### 謝辞

プロジェクトに貢献したすべてのチームメンバーとテストプレイヤーに感謝します！

---

**© 2025 学校脱出スクリプト開発チーム**

*ゲームを楽しみ、開発を楽しみましょう！*
